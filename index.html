<!DOCTYPE html>
<html>
  <head>
    <title>Hipster Map of Melbourne</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css' rel='stylesheet' />
    <link href='css/light-theme.css' rel='stylesheet' />
    <link href="https://fonts.googleapis.com/css?family=Niconne|Limelight|Lobster|Quicksand:400,700" rel="stylesheet" type="text/css">
    <style>
      html, body, #map {
        height: 100%;
        padding: 0;
        margin: 0;
      }
      body {
        display: flex;
      } 
      #map { 
        top:0; 
        bottom:0; 
        flex-grow: 1; 
      }
      .sidepanel {
        width: 400px;
      }
      p {
        font-family: 'Lobster', cursive; 
        font-size: 20px; 
        margin: 1em 2em;
        line-height:30px !important;
      }
      h1 { font-family: LimeLight; }

      .mapboxgl-popup-content {
        background: #fffff0;
        box-shadow: 1px 1px 2px 2px #998;
        max-width:450px;
      }

      .mapboxgl-popup-content div {
        border: 1px solid grey;
        margin:0.5em;
        padding:1em;
      }

      .mapboxgl-popup-content h2 {
        font-family: Lobster, cursive;
        text-align: center;
        
      }
      .mapboxgl-popup-content p {
        font-family: corkiregular, serif;
      }
      .mapboxgl-popup-close-button {
        display:none;
      }  
      
    </style>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54473923-3', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <body>
    <div id="map"></div>
    <div class="sidepanel">
      <div class="wrapper">
      <div class="backgroundtext">
        Hutong dumplings carlton, MSAC empire of the sun swanston the city loop dandenong, melb ball food bloggers pellegrini's the melbourne cup, moomba the bulldogs bourke st mall chaddie fed square, street art werribee wildlife ticket inspector.

        Collingwood ferals brunswick st hippy, brunswick and brunswick st emerald peacock formula one grand prix essendon bombers a macaron connoisseur, black is alway in fashion MSAC fed square ticket inspector rocking out the espy, swanston world's most liveable city cookie the croft institute dumplings, fairy penguins etihad stadium spring racing carnival.

        Formula one grand prix the croft institute, the espy a macaron connoisseur world's most liveable city fairy penguins the rebels, the hawks collingwood ferals emerald peacock ticket inspector NGV culture fix, movida kath and kim bill clinton ate two bowls victoria street dodgies street art, werribee wildlife aami park rooftop cinema.

        Chapel street dame edna, east brunswick club rooftop bars empire of the sun chopper read posh brighton, trams essendon bombers brown alley lions bar ac/dc, graffiti dandenong etihad stadium running the tan chaddie, bill clinton ate two bowls don dons trams.

        Werribee wildlife food bloggers, middle-aged lycra clad cyclists vic market posh brighton kath and kim Rod Laver, warehouse chic chopper read yarra cold drip coffee aami park, the emerald peacock burlesque four seasons in one day street art hook turns, brunswick and brunswick st movida south melb dim sims.

        Brunswick st hippy south of the river, melbourne cricket ground brown alley shane warne kylie minogue essendon bombers, rooftop bars NGV culture fix south melb dim sims temper trap the espy, geoffrey rush formula one grand prix neatly trimmed moustaches bourke st mall the crazy wing challenge, chaddie the corner hotel secret laneway bars.

        Bourke st mall fed square, swanston kath and kim MSAC cold drip coffee laksa king, the emerald peacock ball the saints grammar vs scotch pellegrini's, purple emerald burlesque ticket inspector collins place melbourne central, werribee wildlife footy collingwood ferals.

        Presets empire of the sun, world's most liveable city spiegeltent the storm spring racing carnival warehouse chic, richmond tigers cold drip coffee fed square NGV culture fix flemington racecourse, hipsters cate blanchette the crazy wing challenge the city loop ball, yarra chopper read melb.

        Dandenong NGV culture fix, ball citylink moomba swanston purple emerald, spencer st station mamasita the storm don dons etihad stadium, running the tan laksa king rooftop bars temper trap presets, posh brighton south of the river brunswick st hippy.

        Middle-aged lycra clad cyclists melbourne cricket ground, the saints cold drip coffee brunswick and brunswick st MSAC lions bar, the melbourne cup cumulus inc shane warne the city loop swanston, old melbourne gaol posh brighton north melbourne shinboners ac/dc rooftop cinema, fairy penguins south melb dim sims aami park.

        Presets melb, chopper read movida aami park don dons running the tan, purple emerald ball richmond tigers swanston burlesque, the australian open vic market moomba mamasita warehouse chic, frankston bogans geoffrey rush spring racing carnival.
      </div>
        <div class="context subheader">
          <p>Map created by <a href="http://www.meetup.com/Datahack-Melbourne/events/168328902/">OKFN #datahack</a></p>
        </div>
        <div class="fronttext">
          <div class="witty">
          <h1>Hipster map of Melbourne</h1>
          <p>How did the hipster burn her tongue?<br/>She drank her coffee before it was cool.</p>
          <p><a href="http://suggest.hipstermelbourne.org/">Got a suggestion?</a></p>
        </div>
         
        
  </p>
</div>
<div class="credits">
  Source for this page at <a href="https://github.com/stevage/hipster-melbourne">Github</a>.<br/>
  Read more about the project at <a href="http://www.abc.net.au/local/audio/2014/03/19/3962737.htm?site=melbourne">Aunty</a>.<br/>
  Get in touch on Twitter with <a href="https://twitter.com/sauramaia">Maia</a> and <a href="https://twitter.com/stevage1">Steve</a>.<br/></br>
  Melbourne Ipsum text by <a href="http://www.melbourneipsum.com.au/">melbourneipsum.com.au</a>.<br/>
  Credits: <a href="https://twitter.com/stevage1">Steve Bennett, <a href="https://twitter.com/Sauramaia">Maia Sauren</a>, <a href="https://twitter.com/mattcen">Matt Cengia</a>, <a href="https://twitter.com/bubbiting">Hamish</a>, <a href="https://twitter.com/mikeebinum">Mike Ebinum</a>, <a href="https://twitter.com/glentodd">Glenn Todd</a>, <a href="https://twitter.com/washingtonirving">Anthony Mockler</a>, <a href="https://twitter.com/nicsmythe">Nic Smythe</a>, Peter Dudley, <a href="https://twitter.com/fcteewdie">Fiona Tweedie</a>, AJ, <a href="https://twitter.com/mence/">Tim Hordern</a>. (Have we missed anyone?)

          </div>

      </div>
    </div>
    

    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoic3RldmFnZSIsImEiOiJGcW03aExzIn0.QUkUmTGIO3gGt83HiRIjQw';
        var map = new mapboxgl.Map({
            container: 'map', // container id
            style: 'mapbox://styles/stevage/ciz68fsec00112rpal5hjru07', //stylesheet location
            center: [144.97, -37.81], // starting position
            zoom: 15, // starting zoom,
            minZoom: 14,
            maxZoom: 16
        });
        var layers = ['hipster coffee', 'hipster shopping','hipster other','hipster clothing','hipster entertainment','hipster drink', 'hipster food'];

        map.on('click', function(e) {
            var features = map.queryRenderedFeatures(e.point, { layers: layers });

            if (!features.length) {
                return;
            }

            var feature = features[0];

            var p = feature.properties;
            var popup = new mapboxgl.Popup()
                .setLngLat(feature.geometry.coordinates)
                .setHTML('<div>' + 
                    '<h2>' + p.name + '</h2>' + 
                    '<p>' + p.keywords + '</p>' +
                    '</div>')
                .addTo(map);
        });
        map.on('load', function e() {
            map.on('mousemove', function (e) {
                var features = map.queryRenderedFeatures(e.point, { layers: layers });
                map.getCanvas().style.cursor = (features.length) ? 'pointer' : '';
            });
        });
    </script>
  </body>
</html>
